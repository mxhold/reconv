(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,n,t){var i=t(28)(t(32),2),a=i[0],r=i[1],o=t(34),s=t(14),u=t(15);e.exports={convertIngredient:a,convertIngredientError:r,parseIngredient:o,defaultUnitDefinitions:s,defaultIngredientDefinitions:u}},function(e,n,t){e.exports={malformed:"Ingredient_malformed__2IUis typography_ignored__1iMGB",unitNotFound:"Ingredient_unitNotFound__1tZVF typography_mildError__1KRUa",ingredientNotFound:"Ingredient_ingredientNotFound__1332z typography_mildError__1KRUa",badQuantity:"Ingredient_badQuantity__eeLyl typography_mildError__1KRUa",badUnitDefinition:"Ingredient_badUnitDefinition__QJPdr typography_seriousError__-Ji9E",badIngredientDefinition:"Ingredient_badIngredientDefinition__CDLkR typography_seriousError__-Ji9E"}},,,,,,function(e,n,t){e.exports={wrapper:"RecipeInput_wrapper__37iBa layout_flexWrap__3Mh7K",input:"RecipeInput_input__35sHT layout_flexChild__1EqL1",output:"RecipeInput_output__3wqnm layout_flexChild__1EqL1",inputField:"RecipeInput_inputField__1gbO2 layout_box__1kRdL"}},function(e,n,t){e.exports={wrapper:"RecipeDefinitionsInputs_wrapper__2v3u2 layout_flexWrap__3Mh7K",child:"RecipeDefinitionsInputs_child__1c4f3 layout_flexChild__1EqL1",showDefinitionsToggle:"RecipeDefinitionsInputs_showDefinitionsToggle__PkZAB"}},,function(e,n,t){e.exports={definitionField:"DefinitionsInput_definitionField__31i53 layout_box__1kRdL",definitionFormatExample:"DefinitionsInput_definitionFormatExample__nVUDr typography_csvExample__3d_5u"}},,,function(e){e.exports=[{unit:"t",mL:4.92892},{unit:"T",mL:14.7868},{unit:"floz",mL:29.5725},{unit:"c",mL:237},{unit:"pt",mL:473.176},{unit:"qt",mL:946.353},{unit:"gal",mL:3785.41},{unit:"L",mL:1e3}]},function(e){e.exports=[{name:"butter",density:.9586114185},{name:"milk",density:1.032903803},{name:"buttermilk",density:1.037696861},{name:"flour",density:.5112594232},{name:"sugar",density:.811522894},{name:"powdered sugar",density:.5112594232},{name:"brown sugar",density:.8108078959},{name:"salt",density:1.215799848},{name:"cocoa powder",density:.3408396155},{name:"baking powder",density:.9726203537},{name:"baking soda",density:.9134163392},{name:"vegetable oil",density:.9234623332},{name:"lard",density:.82},{name:"water",density:1}]},,,function(e,n,t){e.exports={convertedRecipe:"ConvertedRecipe_convertedRecipe__3TKC3 layout_box__1kRdL"}},function(e,n,t){e.exports=t(40)},,,,,function(e,n,t){},,function(e,n,t){},,,,,,function(e,n,t){var i=t(33),a=t(14),r=t(15),o={DIVIDE_BY_ZERO:"divide_by_zero",BAD_FORMAT:"bad_format",BAD_DEFINITION:"bad_definition",UNRECOGNIZED:"unrecognized"};e.exports=[function(e,n,t){1===arguments.length&&(n=r,t=a),2===arguments.length&&(t=a);var s,u=t.find(function(n){return n.unit===e.unit}),l=n.find(function(n){return n.name===e.name}),c={};try{s=i(e.quantity)}catch(f){if(f instanceof i.DivisionByZero)c.quantity=o.DIVIDE_BY_ZERO;else{if(!(f instanceof i.InvalidParameter))throw f;c.quantity=o.BAD_FORMAT}}for(var d in u?("number"!==typeof u.mL||isNaN(u.mL))&&(c.unit=o.BAD_DEFINITION):c.unit=o.UNRECOGNIZED,l?("number"!==typeof l.density||isNaN(l.density))&&(c.ingredient=o.BAD_DEFINITION):c.ingredient=o.UNRECOGNIZED,c)if(c[d])return{success:!1,errors:c};return{success:!0,result:{quantity:s.mul(l.density).mul(u.mL).round().toString(),unit:"g",name:l.name}}},o]},,function(e,n){e.exports=function(e){var n=/^((?:\d+ )?\d+[\/.]?\d*)([A-z]+) +(.+)$/,t=n.exec(e);return null!=t?{success:!0,result:{quantity:t[1],unit:t[2],name:t[3]}}:{success:!1,errorMessage:'provided string "'+e+'" cannot be parsed with regex '+n}}},,,,,,function(e,n,t){"use strict";t.r(n);var i=t(0),a=t.n(i),r=t(17),o=t.n(r),s=(t(24),t(26),t(12)),u=t(3),l=t(4),c=t(6),d=t(5),f=t(7),m=t(1),p=t(8),g=t.n(p),h=t(2),_=t.n(h);function D(e){var n,t,i;return e.errors&&(e.errors.badQuantity&&(n=_.a.badQuantity),e.errors.unitNotFound&&(t=_.a.unitNotFound),e.errors.badUnitDefinition&&(t=_.a.badUnitDefinition),e.errors.ingredientNotFound&&(i=_.a.ingredientNotFound),e.errors.badIngredientDefinition&&(i=_.a.badIngredientDefinition)),a.a.createElement("div",null,a.a.createElement("span",{className:n},e.quantity),a.a.createElement("span",{className:t},e.unit)," ",a.a.createElement("span",{className:i},e.name))}function v(e){return a.a.createElement("div",null,a.a.createElement("span",{className:_.a.malformed},e.string))}var y=t(18),E=t.n(y);function I(e){var n=e.recipe.split("\n").map(function(n,t){var i=Object(m.parseIngredient)(n);if(i.success){var r=i.result,o=Object(m.convertIngredient)(r,e.ingredientDefinitions,e.unitDefinitions);if(o.success){var s=o.result;return a.a.createElement(D,{key:t,quantity:s.quantity,unit:s.unit,name:s.name})}var u={unitNotFound:o.errors.unit===m.convertIngredientError.UNRECOGNIZED,ingredientNotFound:o.errors.ingredient===m.convertIngredientError.UNRECOGNIZED,badQuantity:o.errors.quantity,badUnitDefinition:o.errors.unit===m.convertIngredientError.BAD_DEFINITION,badIngredientDefinition:o.errors.ingredient===m.convertIngredientError.BAD_DEFINITION};return a.a.createElement(D,{key:t,quantity:r.quantity,unit:r.unit,name:r.name,errors:u})}return a.a.createElement(v,{key:t,string:n})});return a.a.createElement("div",{className:E.a.convertedRecipe},n)}var b=function(e){function n(e){var t;return Object(u.a)(this,n),(t=Object(c.a)(this,Object(d.a)(n).call(this,e))).handleChange=function(e){t.setState({recipe:e.target.value})},t.state={recipe:e.recipe},t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:g.a.wrapper},a.a.createElement("div",{className:g.a.input},a.a.createElement("h2",null,"Recipe"),a.a.createElement("textarea",{spellCheck:"false",value:this.state.recipe,onChange:this.handleChange,className:g.a.inputField})),a.a.createElement("div",{className:g.a.output},a.a.createElement("h2",null,"Converted Recipe"),a.a.createElement(I,{recipe:this.state.recipe,ingredientDefinitions:this.props.ingredientDefinitions,unitDefinitions:this.props.unitDefinitions})))}}]),n}(a.a.Component),N=t(9),w=t.n(N),C=t(11),O=t.n(C);function F(e){return a.a.createElement("div",null,a.a.createElement("h2",null,e.kind," definitions"),a.a.createElement("p",{className:O.a.definitionFormatExample},e.csvFormat),a.a.createElement("textarea",{spellCheck:"false",onChange:e.handleValueChange,value:e.value,className:O.a.definitionField}))}var R=function(e){function n(){var e,t;Object(u.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(a)))).state={showDefinitions:!1},t.handleShowDefinitionsChange=function(e){t.setState({showDefinitions:e.target.checked})},t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=a.a.createElement("div",{className:w.a.wrapper},a.a.createElement("div",{className:w.a.child},a.a.createElement(F,{kind:"Unit",csvFormat:"unit,mL",value:this.props.unitDefinitions,handleValueChange:this.props.handleUnitDefinitionsChange})),a.a.createElement("div",{className:w.a.child},a.a.createElement(F,{kind:"Ingredient",csvFormat:"name,density",value:this.props.ingredientDefinitions,handleValueChange:this.props.handleIngredientDefinitionsChange})));return a.a.createElement("div",null,a.a.createElement("div",{className:w.a.showDefinitionsToggle},a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",value:this.state.showDefinitions,onChange:this.handleShowDefinitionsChange}),"Show unit/ingredient definitions")),this.state.showDefinitions?e:null)}}]),n}(a.a.Component),k=function(e){function n(){var e,t;Object(u.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(t=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(a)))).state={unitDefinitions:m.defaultUnitDefinitions.map(function(e){return e.unit+","+e.mL}).join("\n"),ingredientDefinitions:m.defaultIngredientDefinitions.map(function(e){return e.name+","+e.density}).join("\n")},t.deserializeUnitDefinitions=function(e){return e.split("\n").map(function(e){var n=e.split(","),t=Object(s.a)(n,2),i=t[0],a=t[1];return{unit:i,mL:a=Number.parseFloat(a,10)}})},t.deserializeIngredientDefinitions=function(e){return e.split("\n").map(function(e){var n=e.split(","),t=Object(s.a)(n,2),i=t[0],a=t[1];return{name:i,density:a=Number.parseFloat(a,10)}})},t.handleUnitDefinitionsChange=function(e){t.setState({unitDefinitions:e.target.value})},t.handleIngredientDefinitionsChange=function(e){t.setState({ingredientDefinitions:e.target.value})},t}return Object(f.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=a.a.createElement("span",{role:"img","aria-label":"sparkle"},"\u2728");return a.a.createElement("div",null,a.a.createElement("h1",null,"Recipe Converter"),a.a.createElement("p",null,"Paste a recipe below and watch as it is ",e,"magically",e," converted from US volumetric units to grams!"),a.a.createElement(b,{recipe:"1/2c butter\n1c sugar\n2 eggs, beaten\n3 bananas, crushed\n1 1/2c flour\n1t baking soda\n1/2t salt\n1/2t vanilla",ingredientDefinitions:this.deserializeIngredientDefinitions(this.state.ingredientDefinitions),unitDefinitions:this.deserializeUnitDefinitions(this.state.unitDefinitions)}),a.a.createElement(R,{unitDefinitions:this.state.unitDefinitions,handleUnitDefinitionsChange:this.handleUnitDefinitionsChange,ingredientDefinitions:this.state.ingredientDefinitions,handleIngredientDefinitionsChange:this.handleIngredientDefinitionsChange}))}}]),n}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[19,2,1]]]);
//# sourceMappingURL=main.9a637204.chunk.js.map